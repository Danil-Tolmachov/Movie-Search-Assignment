@model WebApp.Models.MoviesViewModel
@{
}

<div class="content">
	<h1 class="text-center">Movies</h1>
	<a class="btn btn-success mt-3 mb-3" asp-action="AddMovie">Add Movie</a>

	<table class="category-table">
		<thead>
			<tr>
				<th>Title</th>
				<th>Director:</th>
				<th>Categories:</th>
				<th></th>
			</tr>
		</thead>
		<tbody>
			@foreach (var movie in @Model.Movies)
			{
			<tr>
				<td>
					@movie.Title
				</td>
				<td>
					@movie.Director
				</td>
				<td>
					@string.Join(", ", movie.Categories.Select(c => c.Title))
				</td>
				<td class="button-cell">
					<a class="btn btn-secondary" asp-controller="Movie" asp-action="UpdateMovie" asp-route-id="@movie.Id">Edit</a>
					<a class="btn btn-danger" asp-controller="Movie" asp-action="DeleteMovie" asp-route-id="@movie.Id">Delete</a>
				</td>
			</tr>
			}
		</tbody>
	</table>
	
</div>
